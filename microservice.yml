omg: 1

actions:
  exec:
    output:
      type: map
    format:
      command: ['node', 'exec.js']
    arguments:
      x:
        type: int
        required: true
      y:
        type: int
        default: 0
      z:
        type: int
  http:
    output:
      type: map
    arguments:
      body:
        type: string
        required: true
        in: requestBody
      path:
        type: int
        in: path
        default: 2
      query:
        type: string
        in: query
    http:
      method: post
      port: 5000
      path: /send/{{path}}
  event:
    events:
      rename:
        arguments:
          path:
            type: string
            in: requestBody
        http:
          port: 5000
          subscribe:
            method: post
            path: /subscribe
            contentType: application/json
          unsubscribe:
            path: /unsubscribe
            method: delete

lifecycle:
  startup:
    command: ['node', 'event.js']

environment:
  one:
    type: string
    required: true
  two:
    type: string
    default: two
  three:
    type: string
